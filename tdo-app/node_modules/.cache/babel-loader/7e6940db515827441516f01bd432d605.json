{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Lop- CI\\\\cijs-d05\\\\tdo-app\\\\src\\\\components\\\\todo.js\";\nimport React, { Component } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CardContent from '@material-ui/core/CardContent';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport axios from 'axios';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport { authMiddleWare } from '../util/auth';\n\nconst styles = theme => ({\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  },\n  submitButton: {\n    display: 'block',\n    color: 'white',\n    textAlign: 'center',\n    position: 'absolute',\n    top: 14,\n    right: 10\n  },\n  floatingButton: {\n    position: 'fixed',\n    bottom: 0,\n    right: 0\n  },\n  form: {\n    width: '98%',\n    marginLeft: 13,\n    marginTop: theme.spacing(3)\n  },\n  toolbar: theme.mixins.toolbar,\n  root: {\n    minWidth: 470\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  pos: {\n    marginBottom: 12\n  },\n  uiProgess: {\n    position: 'fixed',\n    zIndex: '1000',\n    height: '31px',\n    width: '31px',\n    left: '50%',\n    top: '35%'\n  },\n  dialogeStyle: {\n    maxWidth: '50%'\n  },\n  viewRoot: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n});\n\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n});\n_c2 = Transition;\n\nclass todo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.componentWillMount = () => {\n      authMiddleWare(this.props.history);\n      const authToken = localStorage.getItem('AuthToken');\n      axios.defaults.headers.common = {\n        Authorization: `${authToken}`\n      };\n      axios.get('/todos').then(response => {\n        this.setState({\n          todos: response.data,\n          uiLoading: false\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      todos: '',\n      title: '',\n      body: '',\n      todoId: '',\n      errors: [],\n      open: false,\n      uiLoading: true,\n      buttonType: '',\n      viewOpen: false\n    };\n    this.deleteTodoHandler = this.deleteTodoHandler.bind(this);\n    this.handleEditClickOpen = this.handleEditClickOpen.bind(this);\n    this.handleViewOpen = this.handleViewOpen.bind(this);\n  }\n\n  deleteTodoHandler(data) {\n    authMiddleWare(this.props.history);\n    const authToken = localStorage.getItem('AuthToken');\n    axios.defaults.headers.common = {\n      Authorization: `${authToken}`\n    };\n    let todoId = data.todo.todoId;\n    axios.delete(`todo/${todoId}`).then(() => {\n      window.location.reload();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  handleEditClickOpen(data) {\n    this.setState({\n      title: data.todo.title,\n      body: data.todo.body,\n      todoId: data.todo.todoId,\n      buttonType: 'Edit',\n      open: true\n    });\n  }\n\n  handleViewOpen(data) {\n    this.setState({\n      title: data.todo.title,\n      body: data.todo.body,\n      viewOpen: true\n    });\n  }\n\n  render() {\n    const DialogTitle = withStyles(styles)(props => {\n      const {\n        children,\n        classes,\n        onClose,\n        ...other\n      } = props;\n      return /*#__PURE__*/_jsxDEV(MuiDialogTitle, {\n        disableTypography: true,\n        className: classes.root,\n        ...other,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 6\n        }, this), onClose ? /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"close\",\n          className: classes.closeButton,\n          onClick: onClose,\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 7\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 5\n      }, this);\n    });\n    const DialogContent = withStyles(theme => ({\n      viewRoot: {\n        padding: theme.spacing(2)\n      }\n    }))(MuiDialogContent);\n    dayjs.extend(relativeTime);\n    const {\n      classes\n    } = this.props;\n    const {\n      open,\n      errors,\n      viewOpen\n    } = this.state;\n\n    const handleClickOpen = () => {\n      this.setState({\n        todoId: '',\n        title: '',\n        body: '',\n        buttonType: '',\n        open: true\n      });\n    };\n\n    const handleSubmit = event => {\n      authMiddleWare(this.props.history);\n      event.preventDefault();\n      const userTodo = {\n        title: this.state.title,\n        body: this.state.body\n      };\n      let options = {};\n\n      if (this.state.buttonType === 'Edit') {\n        options = {\n          url: `/todo/${this.state.todoId}`,\n          method: 'put',\n          data: userTodo\n        };\n      } else {\n        options = {\n          url: '/todo',\n          method: 'post',\n          data: userTodo\n        };\n      }\n\n      const authToken = localStorage.getItem('AuthToken');\n      axios.defaults.headers.common = {\n        Authorization: `${authToken}`\n      };\n      axios(options).then(() => {\n        this.setState({\n          open: false\n        });\n        window.location.reload();\n      }).catch(error => {\n        this.setState({\n          open: true,\n          errors: error.response.data\n        });\n        console.log(error);\n      });\n    };\n\n    const handleViewClose = () => {\n      this.setState({\n        viewOpen: false\n      });\n    };\n\n    const handleClose = event => {\n      this.setState({\n        open: false\n      });\n    };\n\n    if (this.state.uiLoading === true) {\n      return /*#__PURE__*/_jsxDEV(\"main\", {\n        className: classes.content,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.toolbar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 6\n        }, this), this.state.uiLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 150,\n          className: classes.uiProgess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"main\", {\n        className: classes.content,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.toolbar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          className: classes.floatingButton,\n          color: \"primary\",\n          \"aria-label\": \"Add Todo\",\n          onClick: handleClickOpen,\n          children: /*#__PURE__*/_jsxDEV(AddCircleIcon, {\n            style: {\n              fontSize: 60\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          fullScreen: true,\n          open: open,\n          onClose: handleClose,\n          TransitionComponent: Transition,\n          children: [/*#__PURE__*/_jsxDEV(AppBar, {\n            className: classes.appBar,\n            children: /*#__PURE__*/_jsxDEV(Toolbar, {\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                edge: \"start\",\n                color: \"inherit\",\n                onClick: handleClose,\n                \"aria-label\": \"close\",\n                children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                className: classes.title,\n                children: this.state.buttonType === 'Edit' ? 'Edit Todo' : 'Create a new Todo'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                autoFocus: true,\n                color: \"inherit\",\n                onClick: handleSubmit,\n                className: classes.submitButton,\n                children: this.state.buttonType === 'Edit' ? 'Save' : 'Submit'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            noValidate: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  variant: \"outlined\",\n                  required: true,\n                  fullWidth: true,\n                  id: \"todoTitle\",\n                  label: \"Todo Title\",\n                  name: \"title\",\n                  autoComplete: \"todoTitle\",\n                  helperText: errors.title,\n                  value: this.state.title,\n                  error: errors.title ? true : false,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  variant: \"outlined\",\n                  required: true,\n                  fullWidth: true,\n                  id: \"todoDetails\",\n                  label: \"Todo Details\",\n                  name: \"body\",\n                  autoComplete: \"todoDetails\",\n                  multiline: true,\n                  rows: 25,\n                  rowsMax: 25,\n                  helperText: errors.body,\n                  error: errors.body ? true : false,\n                  onChange: this.handleChange,\n                  value: this.state.body\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: this.state.todos.map(todo => /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: classes.root,\n              variant: \"outlined\",\n              children: [/*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  component: \"h2\",\n                  children: todo.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  className: classes.pos,\n                  color: \"textSecondary\",\n                  children: dayjs(todo.createdAt).fromNow()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  component: \"p\",\n                  children: `${todo.body.substring(0, 65)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  color: \"primary\",\n                  onClick: () => this.handleViewOpen({\n                    todo\n                  }),\n                  children: [' ', \"View\", ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  color: \"primary\",\n                  onClick: () => this.handleEditClickOpen({\n                    todo\n                  }),\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  color: \"primary\",\n                  onClick: () => this.deleteTodoHandler({\n                    todo\n                  }),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          onClose: handleViewClose,\n          \"aria-labelledby\": \"customized-dialog-title\",\n          open: viewOpen,\n          fullWidth: true,\n          classes: {\n            paperFullWidth: classes.dialogeStyle\n          },\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"customized-dialog-title\",\n            onClose: handleViewClose,\n            children: this.state.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            dividers: true,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              id: \"todoDetails\",\n              name: \"body\",\n              multiline: true,\n              readonly: true,\n              rows: 1,\n              rowsMax: 25,\n              value: this.state.body,\n              InputProps: {\n                disableUnderline: true\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n}\n\nexport default withStyles(styles)(todo);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");","map":{"version":3,"sources":["D:/Lop- CI/cijs-d05/tdo-app/src/components/todo.js"],"names":["React","Component","withStyles","Typography","Button","Dialog","AddCircleIcon","AppBar","Toolbar","IconButton","CloseIcon","Slide","TextField","Grid","Card","CardActions","CircularProgress","CardContent","MuiDialogTitle","MuiDialogContent","axios","dayjs","relativeTime","authMiddleWare","styles","theme","content","flexGrow","padding","spacing","appBar","position","title","marginLeft","flex","submitButton","display","color","textAlign","top","right","floatingButton","bottom","form","width","marginTop","toolbar","mixins","root","minWidth","bullet","margin","transform","pos","marginBottom","uiProgess","zIndex","height","left","dialogeStyle","maxWidth","viewRoot","closeButton","palette","grey","Transition","forwardRef","props","ref","todo","constructor","handleChange","event","setState","target","name","value","componentWillMount","history","authToken","localStorage","getItem","defaults","headers","common","Authorization","get","then","response","todos","data","uiLoading","catch","err","console","log","state","body","todoId","errors","open","buttonType","viewOpen","deleteTodoHandler","bind","handleEditClickOpen","handleViewOpen","delete","window","location","reload","render","DialogTitle","children","classes","onClose","other","DialogContent","extend","handleClickOpen","handleSubmit","preventDefault","userTodo","options","url","method","error","handleViewClose","handleClose","fontSize","map","createdAt","fromNow","substring","paperFullWidth","disableUnderline"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\n\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport { authMiddleWare } from '../util/auth';\r\n\r\nconst styles = (theme) => ({\r\n\tcontent: {\r\n\t\tflexGrow: 1,\r\n\t\tpadding: theme.spacing(3)\r\n\t},\r\n\tappBar: {\r\n\t\tposition: 'relative'\r\n\t},\r\n\ttitle: {\r\n\t\tmarginLeft: theme.spacing(2),\r\n\t\tflex: 1\r\n\t},\r\n\tsubmitButton: {\r\n\t\tdisplay: 'block',\r\n\t\tcolor: 'white',\r\n\t\ttextAlign: 'center',\r\n\t\tposition: 'absolute',\r\n\t\ttop: 14,\r\n\t\tright: 10\r\n\t},\r\n\tfloatingButton: {\r\n\t\tposition: 'fixed',\r\n\t\tbottom: 0,\r\n\t\tright: 0\r\n\t},\r\n\tform: {\r\n\t\twidth: '98%',\r\n\t\tmarginLeft: 13,\r\n\t\tmarginTop: theme.spacing(3)\r\n\t},\r\n\ttoolbar: theme.mixins.toolbar,\r\n\troot: {\r\n\t\tminWidth: 470\r\n\t},\r\n\tbullet: {\r\n\t\tdisplay: 'inline-block',\r\n\t\tmargin: '0 2px',\r\n\t\ttransform: 'scale(0.8)'\r\n\t},\r\n\tpos: {\r\n\t\tmarginBottom: 12\r\n\t},\r\n\tuiProgess: {\r\n\t\tposition: 'fixed',\r\n\t\tzIndex: '1000',\r\n\t\theight: '31px',\r\n\t\twidth: '31px',\r\n\t\tleft: '50%',\r\n\t\ttop: '35%'\r\n\t},\r\n\tdialogeStyle: {\r\n\t\tmaxWidth: '50%'\r\n\t},\r\n\tviewRoot: {\r\n\t\tmargin: 0,\r\n\t\tpadding: theme.spacing(2)\r\n\t},\r\n\tcloseButton: {\r\n\t\tposition: 'absolute',\r\n\t\tright: theme.spacing(1),\r\n\t\ttop: theme.spacing(1),\r\n\t\tcolor: theme.palette.grey[500]\r\n\t}\r\n});\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass todo extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\ttodos: '',\r\n\t\t\ttitle: '',\r\n\t\t\tbody: '',\r\n\t\t\ttodoId: '',\r\n\t\t\terrors: [],\r\n\t\t\topen: false,\r\n\t\t\tuiLoading: true,\r\n\t\t\tbuttonType: '',\r\n\t\t\tviewOpen: false\r\n\t\t};\r\n\r\n\t\tthis.deleteTodoHandler = this.deleteTodoHandler.bind(this);\r\n\t\tthis.handleEditClickOpen = this.handleEditClickOpen.bind(this);\r\n\t\tthis.handleViewOpen = this.handleViewOpen.bind(this);\r\n\t}\r\n\r\n\thandleChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentWillMount = () => {\r\n\t\tauthMiddleWare(this.props.history);\r\n\t\tconst authToken = localStorage.getItem('AuthToken');\r\n\t\taxios.defaults.headers.common = { Authorization: `${authToken}` };\r\n\t\taxios\r\n\t\t\t.get('/todos')\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttodos: response.data,\r\n\t\t\t\t\tuiLoading: false\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tdeleteTodoHandler(data) {\r\n\t\tauthMiddleWare(this.props.history);\r\n\t\tconst authToken = localStorage.getItem('AuthToken');\r\n\t\taxios.defaults.headers.common = { Authorization: `${authToken}` };\r\n\t\tlet todoId = data.todo.todoId;\r\n\t\taxios\r\n\t\t\t.delete(`todo/${todoId}`)\r\n\t\t\t.then(() => {\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\thandleEditClickOpen(data) {\r\n\t\tthis.setState({\r\n\t\t\ttitle: data.todo.title,\r\n\t\t\tbody: data.todo.body,\r\n\t\t\ttodoId: data.todo.todoId,\r\n\t\t\tbuttonType: 'Edit',\r\n\t\t\topen: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleViewOpen(data) {\r\n\t\tthis.setState({\r\n\t\t\ttitle: data.todo.title,\r\n\t\t\tbody: data.todo.body,\r\n\t\t\tviewOpen: true\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst DialogTitle = withStyles(styles)((props) => {\r\n\t\t\tconst { children, classes, onClose, ...other } = props;\r\n\t\t\treturn (\r\n\t\t\t\t<MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n\t\t\t\t\t<Typography variant=\"h6\">{children}</Typography>\r\n\t\t\t\t\t{onClose ? (\r\n\t\t\t\t\t\t<IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</MuiDialogTitle>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst DialogContent = withStyles((theme) => ({\r\n\t\t\tviewRoot: {\r\n\t\t\t\tpadding: theme.spacing(2)\r\n\t\t\t}\r\n\t\t}))(MuiDialogContent);\r\n\r\n\t\tdayjs.extend(relativeTime);\r\n\t\tconst { classes } = this.props;\r\n\t\tconst { open, errors, viewOpen } = this.state;\r\n\r\n\t\tconst handleClickOpen = () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\ttodoId: '',\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tbody: '',\r\n\t\t\t\tbuttonType: '',\r\n\t\t\t\topen: true\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst handleSubmit = (event) => {\r\n\t\t\tauthMiddleWare(this.props.history);\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst userTodo = {\r\n\t\t\t\ttitle: this.state.title,\r\n\t\t\t\tbody: this.state.body\r\n\t\t\t};\r\n\t\t\tlet options = {};\r\n\t\t\tif (this.state.buttonType === 'Edit') {\r\n\t\t\t\toptions = {\r\n\t\t\t\t\turl: `/todo/${this.state.todoId}`,\r\n\t\t\t\t\tmethod: 'put',\r\n\t\t\t\t\tdata: userTodo\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\toptions = {\r\n\t\t\t\t\turl: '/todo',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: userTodo\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst authToken = localStorage.getItem('AuthToken');\r\n\t\t\taxios.defaults.headers.common = { Authorization: `${authToken}` };\r\n\t\t\taxios(options)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.setState({ open: false });\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tthis.setState({ open: true, errors: error.response.data });\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst handleViewClose = () => {\r\n\t\t\tthis.setState({ viewOpen: false });\r\n\t\t};\r\n\r\n\t\tconst handleClose = (event) => {\r\n\t\t\tthis.setState({ open: false });\r\n\t\t};\r\n\r\n\t\tif (this.state.uiLoading === true) {\r\n\t\t\treturn (\r\n\t\t\t\t<main className={classes.content}>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t\t{this.state.uiLoading && <CircularProgress size={150} className={classes.uiProgess} />}\r\n\t\t\t\t</main>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<main className={classes.content}>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tclassName={classes.floatingButton}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\taria-label=\"Add Todo\"\r\n\t\t\t\t\t\tonClick={handleClickOpen}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AddCircleIcon style={{ fontSize: 60 }} />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n\t\t\t\t\t\t<AppBar className={classes.appBar}>\r\n\t\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t\t<IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n\t\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t\t\t\t\t\t\t{this.state.buttonType === 'Edit' ? 'Edit Todo' : 'Create a new Todo'}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.submitButton}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{this.state.buttonType === 'Edit' ? 'Save' : 'Submit'}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t</AppBar>\r\n\r\n\t\t\t\t\t\t<form className={classes.form} noValidate>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tid=\"todoTitle\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Todo Title\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"todoTitle\"\r\n\t\t\t\t\t\t\t\t\t\thelperText={errors.title}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.title}\r\n\t\t\t\t\t\t\t\t\t\terror={errors.title ? true : false}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tid=\"todoDetails\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Todo Details\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"todoDetails\"\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\trows={25}\r\n\t\t\t\t\t\t\t\t\t\trowsMax={25}\r\n\t\t\t\t\t\t\t\t\t\thelperText={errors.body}\r\n\t\t\t\t\t\t\t\t\t\terror={errors.body ? true : false}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.body}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</Dialog>\r\n\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t{this.state.todos.map((todo) => (\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<Card className={classes.root} variant=\"outlined\">\r\n\t\t\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" component=\"h2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{todo.title}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.pos} color=\"textSecondary\">\r\n\t\t\t\t\t\t\t\t\t\t\t{dayjs(todo.createdAt).fromNow()}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" component=\"p\">\r\n\t\t\t\t\t\t\t\t\t\t\t{`${todo.body.substring(0, 65)}`}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" onClick={() => this.handleViewOpen({ todo })}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tView{' '}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" onClick={() => this.handleEditClickOpen({ todo })}>\r\n\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" onClick={() => this.deleteTodoHandler({ todo })}>\r\n\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\tonClose={handleViewClose}\r\n\t\t\t\t\t\taria-labelledby=\"customized-dialog-title\"\r\n\t\t\t\t\t\topen={viewOpen}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclasses={{ paperFullWidth: classes.dialogeStyle }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DialogTitle id=\"customized-dialog-title\" onClose={handleViewClose}>\r\n\t\t\t\t\t\t\t{this.state.title}\r\n\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"todoDetails\"\r\n\t\t\t\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\trows={1}\r\n\t\t\t\t\t\t\t\trowsMax={25}\r\n\t\t\t\t\t\t\t\tvalue={this.state.body}\r\n\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\tdisableUnderline: true\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t</Dialog>\r\n\t\t\t\t</main>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(todo);\r\n"]},"metadata":{},"sourceType":"module"}